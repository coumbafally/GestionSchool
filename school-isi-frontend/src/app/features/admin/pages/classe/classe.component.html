<div class="management-page">
  <header class="page-header">
    <h1>Gestion des Classes</h1>
  </header>

  <section class="form-section card">
    <h2>{{ isEditing ? 'Modifier la Classe' : 'Ajouter une nouvelle Classe' }}</h2>
    
    <form [formGroup]="classeForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="nom">Nom de la classe</label>
          <input id="nom" type="text" formControlName="nom" placeholder="Ex: Seconde A">
        </div>
        
        <div class="form-group">
          <label for="niveau">Niveau</label>
          <input id="niveau" type="text" formControlName="niveau" placeholder="Ex: Seconde">
        </div>
      </div>
      
      <div class="form-actions">
        <button type="submit" [disabled]="classeForm.invalid">
          {{ isEditing ? 'Mettre à jour' : 'Ajouter la Classe' }}
        </button>
        <button type="button" (click)="resetForm()" *ngIf="isEditing">
          Annuler
        </button>
      </div>
    </form>

    <div *ngIf="errorMessage" class="error-message">
      <p><strong>Erreur :</strong> {{ errorMessage }}</p>
    </div>
  </section>

  <section class="table-section card">
    <h2>Liste des Classes Existantes</h2>
    
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nom</th>
          <th>Niveau</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let classe of classes">
          <td>{{ classe.id }}</td>
          <td>{{ classe.nom }}</td>
          <td>{{ classe.niveau }}</td>
          <td class="action-buttons">
            <button (click)="editClasse(classe)">Modifier</button>
            <button class="delete-btn" (click)="deleteClasse(classe.id)">Supprimer</button>
          </td>
        </tr>
        
        <tr *ngIf="classes.length === 0">
          <td colspan="4" style="text-align: center;">Aucune classe trouvée.</td>
        </tr>
      </tbody>
    </table>
  </section>
</div>